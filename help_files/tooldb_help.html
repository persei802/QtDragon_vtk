<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tool Database Help</title>
  <link href="help.css" rel="stylesheet">
</head>
<body>
<h2>TOOL DATABASE</h2>
<p>The tool database utility enables the user to store additional information about the tools listed in the LinuxCNC tool.tbl file.
This extra information is kept in a SQLITE database. On startup, the program checks if the database exists and creates one if needed.
If the database exists, it is updated with any new information in the tool.tbl file. If the tool.tbl contains tools not in the database,
they are added. If the database contains tools not in the tool.tbl, they are deleted.</p>

<h3>Usage</h3>
    <ul>
    <li>At LinuxCNC startup, a list of available tool icons is generated from any .png files found in the <i>tool_icons</i> folder.</li>
    <li>The <i>tool_icons</i> must be .png images. This enables them to have transparent backgrounds.</li>
    <li>The preferred icon size is 160 x 270 pixels.</li>
    <li>Adding or deleting a tool in the Linuxcnc tool table is reflected in the database table.</li>
    </ul>
<h3>Tool Table Buttons</h3>
<p><button>ADD TOOL</button> Inserts a new tool table entry to the top of the list with the tool number
preset to the value in the NEXT AVAILABLE field. The tool can be renumbered by editing the <i>tool</i> column
of the tool table. Even though LinuxCNC allows duplicate tool numbers, the database does not. Any tools with the
same number in the tool table are treated as a single tool in the database. </p>
<p><button>DELETE TOOL</button> Removes the checked tool from the tool table and updates the database. The 
NEXT AVAILABLE field is updated and the tool table is reloaded into LinuxCNC. If there were multiple tools with the
same number, they are all deleted.</p>
<p><button>LOAD TOOL</button> The checked tool is virtually loaded into the spindle by a M61Qn command and
the labels in the TOOL panel of the main page are updated. If the tool has an associated icon, it is also 
displayed in the TOOL panel.</p>
<p>A tool can also be loaded by clicking on a tool in the tree view of the database tab and pressing LOAD TOOL</p>
<p><button>UNLOAD TOOL</button> The tool currently in the spindle is virtually removed by a M61Q0 command.</p>
<p><button>EXPORT TABLE</button> Creates an HTML file of the current tool table.</p>

<h3>Tool Database Tree View</h3>
<p>All tools from the tool table are shown in the tree view and organized by category. Any tool can be clicked and
dragged into a different category. </p>

<h3>Tool Categories</h3>
<p>Tool categories can be created and deleted to suit the user's requirements. To create a new category, click on the 
TOOL GROUP combobox in the Tool Geometry frame and type the name of the category. Pressing RETURN adds it to the tree view.
To delete a category, first remove all the tools the select that category in the TOOL GROUP combobox. Then right click and 
select <i>Remove this group</i>. The category is then removed from the tree view.</p>

<h3>Tool Geometry</h3>
<p>This frame contains information from the tool table as well as custom data. The data from the tool table is for reference only
and cannot be modified from the DATABASE tab, only the TOOL TABLE tab, as these data are sourced from the LinuxCNC tool table.
This data includes Tool number, diameter, Z offset and tool comment.</p>

<h3>Updating the Database</h3>
<p>To store the custom data into the database, select a tool from the tree view, then enter all the pertinent data in the 
tool geometry frame and press UPDATE when done. A tool icon can also be selected. The image files must be stored in the tool_icons
folder in the CONFIG directory. If ENABLE AUTO UPDATE is checked, the tool geometry data will be updated to the database every 
second if there is something new and if the DATABASE page is visible. </p>

<div class=admonition>
    <table>
	    <td class='icon'><div class="title">Note</div></td>
		<td class='content'>The tool database file in the CONFIG directory is called <i>tool_database.db</i>. 
		It is advised to maintain regular backups of this file. If it becomes lost or corrupted, all 
		information the user has entered may be lost and will have to be re-entered in a new database.</td>
	</table>
</div>

</body>
</html>
